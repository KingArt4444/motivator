{"ast":null,"code":"var _jsxFileName = \"E:\\\\\\u0423\\u0447\\u0451\\u0431\\u0430\\\\4 \\u043A\\u0443\\u0440\\u0441\\\\kurswatch7-front\\\\src\\\\component\\\\AllowancesTableComponent.jsx\";\nimport React, { Component } from 'react';\nimport AllowancesDataService from '../service/AllowancesDataService';\n\nclass AllowancesTableComponent extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      allowances: [],\n      userId: this.props.userId,\n      message: null\n    };\n    this.refreshAllowances = this.refreshAllowances.bind(this);\n    this.deleteAllowanceClicked = this.deleteAllowanceClicked.bind(this);\n    this.updateAllowanceClicked = this.updateAllowanceClicked.bind(this);\n    this.addAllowanceClicked = this.addAllowanceClicked.bind(this);\n  }\n\n  componentDidMount() {\n    this.refreshAllowances();\n    console.log(this.state.userId);\n  }\n\n  refreshAllowances() {\n    AllowancesDataService.retrieveAllAllowances().then(response => {\n      console.log(response);\n      this.setState({\n        allowances: response.data\n      });\n    });\n  }\n\n  deleteAllowanceClicked(id) {\n    var result = window.confirm(\"Вы действительно хотите удалить данную информацию?\");\n    AllowancesDataService.deleteAllowance(id).then(response => {\n      this.setState({\n        message: \"Delete of info \".concat(id, \" Successful\")\n      });\n      this.refreshAllowances();\n    });\n  }\n\n  updateAllowanceClicked(id) {\n    console.log('update ' + id);\n    this.props.history.push(\"/allowances/\".concat(id));\n  }\n\n  addAllowanceClicked() {\n    this.props.history.push(\"/allowances/-1\");\n  }\n\n  render() {\n    return React.createElement(\"table\", {\n      className: \"table\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      className: \"thead-dark\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, \"\\u0422\\u0438\\u043F\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, \"\\u0414\\u0430\\u0442\\u0430\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, \"\\u041F\\u0440\\u043E\\u0446\\u0435\\u043D\\u0442\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, \"\\u0421\\u0443\\u043C\\u043C\\u0430\\u0440\\u043D\\u043E (\\u0441 \\u043E\\u043A\\u043B\\u0430\\u0434\\u043E\\u043C)\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, \"\\u0414\\u043B\\u0438\\u0442\\u0435\\u043B\\u044C\\u043D\\u043E\\u0441\\u0442\\u044C\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, \"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\")), React.createElement(\"tr\", {\n      id: \"dataRow\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, \"\\u041D\\u0435\\u0442 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445\")), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, this.state.allowances.map(allowance => {\n      if (allowance.user.id === this.state.userId) {\n        React.createElement(\"tr\", {\n          key: allowance.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 76\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 77\n          },\n          __self: this\n        }, allowance.type), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 78\n          },\n          __self: this\n        }, allowance.date), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79\n          },\n          __self: this\n        }, allowance.rate), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80\n          },\n          __self: this\n        }, allowance.sum), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 81\n          },\n          __self: this\n        }, allowance.period), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 82\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          className: \"btn btn-warning\",\n          onClick: () => this.deleteAllowanceClicked(allowance.id),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 82\n          },\n          __self: this\n        }, \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\")), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 83\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          className: \"btn btn-success\",\n          onClick: () => this.updateAllowanceClicked(allowance.id),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 83\n          },\n          __self: this\n        }, \"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\")));\n        document.getElementById(\"dataRow\").remove();\n      }\n    })));\n  }\n\n}\n\nexport default AllowancesTableComponent;","map":{"version":3,"sources":["E:/Учёба/4 курс/kurswatch7-front/src/component/AllowancesTableComponent.jsx"],"names":["React","Component","AllowancesDataService","AllowancesTableComponent","constructor","props","state","allowances","userId","message","refreshAllowances","bind","deleteAllowanceClicked","updateAllowanceClicked","addAllowanceClicked","componentDidMount","console","log","retrieveAllAllowances","then","response","setState","data","id","result","window","confirm","deleteAllowance","history","push","render","map","allowance","user","type","date","rate","sum","period","document","getElementById","remove"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport AllowancesDataService from '../service/AllowancesDataService';\r\n\r\nclass AllowancesTableComponent extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            allowances: [],\r\n            userId: this.props.userId,\r\n            message: null\r\n        }\r\n        this.refreshAllowances = this.refreshAllowances.bind(this)\r\n        this.deleteAllowanceClicked = this.deleteAllowanceClicked.bind(this)\r\n        this.updateAllowanceClicked = this.updateAllowanceClicked.bind(this)\r\n        this.addAllowanceClicked = this.addAllowanceClicked.bind(this)\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.refreshAllowances();\r\n        console.log(this.state.userId);\r\n    }\r\n\r\n    refreshAllowances() {\r\n        AllowancesDataService.retrieveAllAllowances()\r\n            .then(\r\n                response => {\r\n                    console.log(response);\r\n                    this.setState({ allowances: response.data })\r\n                }\r\n            )\r\n    }\r\n\r\n    deleteAllowanceClicked(id) {\r\n        var result = window.confirm(\"Вы действительно хотите удалить данную информацию?\");\r\n        AllowancesDataService.deleteAllowance(id)\r\n            .then(\r\n                response => {\r\n                    this.setState({ message: `Delete of info ${id} Successful` })\r\n                    this.refreshAllowances()\r\n                }\r\n            )\r\n    }\r\n\r\n    updateAllowanceClicked(id) {\r\n        console.log('update ' + id)\r\n        this.props.history.push(`/allowances/${id}`)\r\n    }\r\n\r\n    addAllowanceClicked() {\r\n        this.props.history.push(`/allowances/-1`)\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <table className=\"table\">\r\n                <thead className=\"thead-dark\">\r\n                    <tr>\r\n                        <th>Тип</th>\r\n                        <th>Дата</th>\r\n                        <th>Процент</th>\r\n                        <th>Суммарно (с окладом)</th>\r\n                        <th>Длительность</th>\r\n                        <th>Удалить</th>\r\n                        <th>Редактировать</th>\r\n                    </tr>\r\n                    <tr id=\"dataRow\">\r\n                        Нет данных\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {\r\n                        this.state.allowances.map(\r\n                            allowance => {\r\n                                if (allowance.user.id === this.state.userId) {\r\n                                    <tr key={allowance.id}>\r\n                                        <td>{allowance.type}</td>\r\n                                        <td>{allowance.date}</td>\r\n                                        <td>{allowance.rate}</td>\r\n                                        <td>{allowance.sum}</td>\r\n                                        <td>{allowance.period}</td>\r\n                                        <td><button className=\"btn btn-warning\" onClick={() => this.deleteAllowanceClicked(allowance.id)}>Удалить</button></td>\r\n                                        <td><button className=\"btn btn-success\" onClick={() => this.updateAllowanceClicked(allowance.id)}>Редактировать</button></td>\r\n                                    </tr>\r\n                                    document.getElementById(\"dataRow\").remove();\r\n                                }\r\n                            }\r\n                        )\r\n                    }\r\n                </tbody>\r\n            </table>\r\n        )\r\n    }\r\n}\r\n\r\nexport default AllowancesTableComponent"]},"metadata":{},"sourceType":"module"}